#해당 이미지는 node image 중에 14버전의 태그를 가진 것을 기반으로 ...
FROM node:14
#어플리케이션 실행 폴더에서 모든 활동을 할 것이고
WORKDIR /app
#이미지에 복사될 패키지 정보
COPY package.json .
#npm 기본 환경 설정해두기
RUN npm install
#그리고 코드를 복사할 것 : 환경을 먼저 설정해두고 코드를 나중에 복사해야
#나중에 코드를 변경해서 이미지를 다시 빌드할 때 환경설정은 다시 image에서 빌드하지 않게 됨
COPY . .
#아래의 상황은 선택적... 쓰지 않아도 docker 커맨드에서 포트를 쓰겠다고 선언하면 됨...
#이것은 문서상으로 알려주는 것
EXPOSE 80
#실행은 아래와 같이 실행될 것임을 알려줌 : node 기반의 server.js파일을 기반으로 실행할 것이라고 알려줌
CMD [ "node", "server.js" ]